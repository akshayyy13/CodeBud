{"ast":null,"code":"/* eslint-disable */import React,{useEffect,useRef,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{markLectureAsComplete}from\"../../../services/operations/courseDetailsAPI\";import{updateCompletedLectures}from\"../../../slices/viewCourseSlice\";import{BigPlayButton,Player}from\"video-react\";import\"video-react/dist/video-react.css\";// import {AiFillPlayCircle} from \"react-icons/ai\"\nimport IconBtn from\"../../common/IconBtn\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoDetails=()=>{const{courseId,sectionId,subSectionId}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const location=useLocation();const playerRef=useRef();const{token}=useSelector(state=>state.auth);const{courseSectionData,courseEntireData,completedLectures}=useSelector(state=>state.viewCourse);const[videoData,setVideoData]=useState([]);const[previewSource,setPreviewSource]=useState(\"\");const[videoEnded,setVideoEnded]=useState(false);const[loading,setLoading]=useState(false);useEffect(()=>{const setVideoSpecificDetails=async()=>{if(!courseSectionData.length)return;if(!courseId&&!sectionId&&!subSectionId){navigate(\"/dashboard/enrolled-courses\");}else{//let's assume k all 3 fields are present\n// console.log(\"Course Section data -> \",courseSectionData,sectionId)\nconst filteredData=courseSectionData.filter(course=>course._id===sectionId);// console.log(\"Filttered data -> \",filteredData?.[0].subSection.filter((data)=>data._id===sub))\nconst filteredVideoData=filteredData===null||filteredData===void 0?void 0:filteredData[0].subSection.filter(data=>data._id===subSectionId);setVideoData(filteredVideoData[0]);setVideoEnded(false);}};setVideoSpecificDetails();},[courseSectionData,courseEntireData,location.pathname]);const isFirstVideo=()=>{const currentSectionIndex=courseSectionData.findIndex(data=>data._id===sectionId);const currentSubSectionIndex=courseSectionData[currentSectionIndex].subSection.findIndex(data=>data._id===subSectionId);if(currentSectionIndex===0&&currentSubSectionIndex===0){return true;}else{return false;}};const isLastVideo=()=>{const currentSectionIndex=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubSections=courseSectionData[currentSectionIndex].subSection.length;const currentSubSectionIndex=courseSectionData[currentSectionIndex].subSection.findIndex(data=>data._id===subSectionId);if(currentSectionIndex===courseSectionData.length-1&&currentSubSectionIndex===noOfSubSections-1){return true;}else{return false;}};const goToNextVideo=()=>{// console.log(\"hi\")\nconst currentSectionIndex=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubSections=courseSectionData[currentSectionIndex].subSection.length;const currentSubSectionIndex=courseSectionData[currentSectionIndex].subSection.findIndex(data=>data._id===subSectionId);// console.log(\"current subsection Index : \",currentSubSectionIndex , noOfSubSections)\nif(currentSubSectionIndex!==noOfSubSections-1){//same section ki next video me jao\nconst nextSubSectionId=courseSectionData[currentSectionIndex].subSection[currentSubSectionIndex+1]._id;//next video pr jao\nconsole.log(nextSubSectionId);navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(sectionId,\"/sub-section/\").concat(nextSubSectionId));}else{//different section ki first video\nconst nextSectionId=courseSectionData[currentSectionIndex+1]._id;const nextSubSectionId=courseSectionData[currentSectionIndex+1].subSection[0]._id;///iss voide par jao\nnavigate(\"/view-course/\".concat(courseId,\"/section/\").concat(nextSectionId,\"/sub-section/\").concat(nextSubSectionId));}};const goToPrevVideo=()=>{const currentSectionIndex=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubSections=courseSectionData[currentSectionIndex].subSection.length;const currentSubSectionIndex=courseSectionData[currentSectionIndex].subSection.findIndex(data=>data._id===subSectionId);if(currentSubSectionIndex!==0){//same section , prev video\nconst prevSubSectionId=courseSectionData[currentSectionIndex].subSection[currentSubSectionIndex-1]._id;//iss video par chalge jao\n// console.log('prev sub id',prevSubSectionId)\nnavigate(\"/view-course/\".concat(courseId,\"/section/\").concat(sectionId,\"/sub-section/\").concat(prevSubSectionId));}else{//different section , last video\nconst prevSectionId=courseSectionData[currentSectionIndex-1]._id;const prevSubSectionLength=courseSectionData[currentSectionIndex-1].subSection.length;const prevSubSectionId=courseSectionData[currentSectionIndex-1].subSection[prevSubSectionLength-1]._id;//iss video par chalge jao\nnavigate(\"/view-course/\".concat(courseId,\"/section/\").concat(prevSectionId,\"/sub-section/\").concat(prevSubSectionId));}};const handleLectureCompletion=async()=>{///dummy code, baad me we will replace it witht the actual call\nsetLoading(true);//PENDING - > Course Progress PENDING\nconst res=await markLectureAsComplete({courseId:courseId,subSectionId:subSectionId},token);//state update\nif(res){dispatch(updateCompletedLectures(subSectionId));}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5 text-white\",children:[!videoData?/*#__PURE__*/_jsx(\"img\",{src:previewSource,alt:\"Preview\",className:\"h-full w-full rounded-md object-cover\"}):/*#__PURE__*/_jsxs(Player,{ref:playerRef,aspectRatio:\"16:9\",playsInline:true,onEnded:()=>setVideoEnded(true),src:videoData===null||videoData===void 0?void 0:videoData.videoUrl,children:[/*#__PURE__*/_jsx(BigPlayButton,{position:\"center\"}),videoEnded&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:\"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"},className:\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",children:[!completedLectures.includes(subSectionId)&&/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:()=>handleLectureCompletion(),text:!loading?\"Mark As Completed\":\"Loading...\",customClasses:\"text-xl max-w-max px-4 mx-auto\"}),/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:()=>{if(playerRef!==null&&playerRef!==void 0&&playerRef.current){var _playerRef$current;// set the current time of the video to 0\nplayerRef===null||playerRef===void 0?void 0:(_playerRef$current=playerRef.current)===null||_playerRef$current===void 0?void 0:_playerRef$current.seek(0);setVideoEnded(false);}},text:\"Rewatch\",customClasses:\"text-xl max-w-max px-4 mx-auto mt-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",children:[!isFirstVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToPrevVideo,className:\"blackButton\",children:\"Prev\"}),!isLastVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToNextVideo,className:\"blackButton\",children:\"Next\"})]})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4 text-3xl font-semibold\",children:videoData===null||videoData===void 0?void 0:videoData.title}),/*#__PURE__*/_jsx(\"p\",{className:\"pt-2 pb-6\",children:videoData===null||videoData===void 0?void 0:videoData.description})]});//   return (\n//     <div>\n//       {\n//         !videoData ? (<div>\n//                         No Data Found\n//                     </div>)\n//         : (\n//             <Player\n//                 ref = {playerRef}\n//                 aspectRatio=\"16:9\"\n//                 playsInline\n//                 onEnded={() => setVideoEnded(true)}\n//                 src={videoData?.videoUrl}\n//                  >\n//                 <AiFillPlayCircle  />\n//                 {\n//                     videoEnded && (\n//                         <div>\n//                             {\n//                                 !completedLectures.includes(subSectionId) && (\n//                                     <IconBtn\n//                                         disabled={loading}\n//                                         onclick={() => handleLectureCompletion()}\n//                                         text={!loading ? \"Mark As Completed\" : \"Loading...\"}\n//                                     />\n//                                 )\n//                             }\n//                             <IconBtn\n//                                 disabled={loading}\n//                                 onclick={() => {\n//                                     if(playerRef?.current) {\n//                                         playerRef.current?.seek(0);\n//                                         setVideoEnded(false);\n//                                     }\n//                                 }}\n//                                 text=\"Rewatch\"\n//                                 customClasses=\"text-xl\"\n//                             />\n//                             <div>\n//                                 {!isFirstVideo() && (\n//                                     <button\n//                                     disabled={loading}\n//                                     onClick={goToPrevVideo}\n//                                     className='blackButton'\n//                                     >\n//                                         Prev\n//                                     </button>\n//                                 )}\n//                                 {!isLastVideo() && (\n//                                     <button\n//                                     disabled={loading}\n//                                     onClick={goToNextVideo}\n//                                     className='blackButton'>\n//                                         Next\n//                                     </button>\n//                                 )}\n//                             </div>\n//                         </div>\n//                     )\n//                 }\n//             </Player>\n//         )\n//       }\n//       <h1>\n//         {videoData?.title}\n//       </h1>\n//       <p>\n//         {videoData?.description}\n//       </p>\n//     </div>\n//   )\n};export default VideoDetails;","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useLocation","useNavigate","useParams","markLectureAsComplete","updateCompletedLectures","BigPlayButton","Player","IconBtn","jsx","_jsx","jsxs","_jsxs","VideoDetails","courseId","sectionId","subSectionId","navigate","dispatch","location","playerRef","token","state","auth","courseSectionData","courseEntireData","completedLectures","viewCourse","videoData","setVideoData","previewSource","setPreviewSource","videoEnded","setVideoEnded","loading","setLoading","setVideoSpecificDetails","length","filteredData","filter","course","_id","filteredVideoData","subSection","data","pathname","isFirstVideo","currentSectionIndex","findIndex","currentSubSectionIndex","isLastVideo","noOfSubSections","goToNextVideo","nextSubSectionId","console","log","concat","nextSectionId","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","res","className","children","src","alt","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","disabled","onclick","text","customClasses","current","_playerRef$current","seek","onClick","title","description"],"sources":["/Users/akshayshrivastava/Desktop/CodeBud/client/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["/* eslint-disable */\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\";\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\";\nimport { BigPlayButton, Player } from \"video-react\";\nimport \"video-react/dist/video-react.css\";\n// import {AiFillPlayCircle} from \"react-icons/ai\"\nimport IconBtn from \"../../common/IconBtn\";\n\nconst VideoDetails = () => {\n  const { courseId, sectionId, subSectionId } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const playerRef = useRef();\n  const { token } = useSelector((state) => state.auth);\n  const { courseSectionData, courseEntireData, completedLectures } =\n    useSelector((state) => state.viewCourse);\n\n  const [videoData, setVideoData] = useState([]);\n  const [previewSource, setPreviewSource] = useState(\"\");\n  const [videoEnded, setVideoEnded] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const setVideoSpecificDetails = async () => {\n      if (!courseSectionData.length) return;\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(\"/dashboard/enrolled-courses\");\n      } else {\n        //let's assume k all 3 fields are present\n\n        // console.log(\"Course Section data -> \",courseSectionData,sectionId)\n        const filteredData = courseSectionData.filter(\n          (course) => course._id === sectionId,\n        );\n        // console.log(\"Filttered data -> \",filteredData?.[0].subSection.filter((data)=>data._id===sub))\n        const filteredVideoData = filteredData?.[0].subSection.filter(\n          (data) => data._id === subSectionId,\n        );\n\n        setVideoData(filteredVideoData[0]);\n        setVideoEnded(false);\n      }\n    };\n    setVideoSpecificDetails();\n  }, [courseSectionData, courseEntireData, location.pathname]);\n\n  const isFirstVideo = () => {\n    const currentSectionIndex = courseSectionData.findIndex(\n      (data) => data._id === sectionId,\n    );\n\n    const currentSubSectionIndex = courseSectionData[\n      currentSectionIndex\n    ].subSection.findIndex((data) => data._id === subSectionId);\n    if (currentSectionIndex === 0 && currentSubSectionIndex === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const isLastVideo = () => {\n    const currentSectionIndex = courseSectionData.findIndex(\n      (data) => data._id === sectionId,\n    );\n\n    const noOfSubSections =\n      courseSectionData[currentSectionIndex].subSection.length;\n\n    const currentSubSectionIndex = courseSectionData[\n      currentSectionIndex\n    ].subSection.findIndex((data) => data._id === subSectionId);\n\n    if (\n      currentSectionIndex === courseSectionData.length - 1 &&\n      currentSubSectionIndex === noOfSubSections - 1\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const goToNextVideo = () => {\n    // console.log(\"hi\")\n    const currentSectionIndex = courseSectionData.findIndex(\n      (data) => data._id === sectionId,\n    );\n\n    const noOfSubSections =\n      courseSectionData[currentSectionIndex].subSection.length;\n\n    const currentSubSectionIndex = courseSectionData[\n      currentSectionIndex\n    ].subSection.findIndex((data) => data._id === subSectionId);\n    // console.log(\"current subsection Index : \",currentSubSectionIndex , noOfSubSections)\n    if (currentSubSectionIndex !== noOfSubSections - 1) {\n      //same section ki next video me jao\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndex].subSection[\n          currentSubSectionIndex + 1\n        ]._id;\n      //next video pr jao\n      console.log(nextSubSectionId);\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`,\n      );\n    } else {\n      //different section ki first video\n      const nextSectionId = courseSectionData[currentSectionIndex + 1]._id;\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndex + 1].subSection[0]._id;\n      ///iss voide par jao\n      navigate(\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`,\n      );\n    }\n  };\n\n  const goToPrevVideo = () => {\n    const currentSectionIndex = courseSectionData.findIndex(\n      (data) => data._id === sectionId,\n    );\n\n    const noOfSubSections =\n      courseSectionData[currentSectionIndex].subSection.length;\n\n    const currentSubSectionIndex = courseSectionData[\n      currentSectionIndex\n    ].subSection.findIndex((data) => data._id === subSectionId);\n\n    if (currentSubSectionIndex !== 0) {\n      //same section , prev video\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndex].subSection[\n          currentSubSectionIndex - 1\n        ]._id;\n      //iss video par chalge jao\n      // console.log('prev sub id',prevSubSectionId)\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`,\n      );\n    } else {\n      //different section , last video\n      const prevSectionId = courseSectionData[currentSectionIndex - 1]._id;\n      const prevSubSectionLength =\n        courseSectionData[currentSectionIndex - 1].subSection.length;\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndex - 1].subSection[\n          prevSubSectionLength - 1\n        ]._id;\n      //iss video par chalge jao\n      navigate(\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`,\n      );\n    }\n  };\n\n  const handleLectureCompletion = async () => {\n    ///dummy code, baad me we will replace it witht the actual call\n    setLoading(true);\n    //PENDING - > Course Progress PENDING\n    const res = await markLectureAsComplete(\n      { courseId: courseId, subSectionId: subSectionId },\n      token,\n    );\n    //state update\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId));\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"flex flex-col gap-5 text-white\">\n      {!videoData ? (\n        <img\n          src={previewSource}\n          alt=\"Preview\"\n          className=\"h-full w-full rounded-md object-cover\"\n        />\n      ) : (\n        <Player\n          ref={playerRef}\n          aspectRatio=\"16:9\"\n          playsInline\n          onEnded={() => setVideoEnded(true)}\n          src={videoData?.videoUrl}\n        >\n          <BigPlayButton position=\"center\" />\n          {/* Render When Video Ends */}\n          {videoEnded && (\n            <div\n              style={{\n                backgroundImage:\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\n              }}\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\n            >\n              {!completedLectures.includes(subSectionId) && (\n                <IconBtn\n                  disabled={loading}\n                  onclick={() => handleLectureCompletion()}\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\n                />\n              )}\n              <IconBtn\n                disabled={loading}\n                onclick={() => {\n                  if (playerRef?.current) {\n                    // set the current time of the video to 0\n                    playerRef?.current?.seek(0);\n                    setVideoEnded(false);\n                  }\n                }}\n                text=\"Rewatch\"\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\n              />\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\n                {!isFirstVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToPrevVideo}\n                    className=\"blackButton\"\n                  >\n                    Prev\n                  </button>\n                )}\n                {!isLastVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToNextVideo}\n                    className=\"blackButton\"\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n        </Player>\n      )}\n\n      <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p>\n    </div>\n  );\n\n  //   return (\n  //     <div>\n  //       {\n  //         !videoData ? (<div>\n  //                         No Data Found\n  //                     </div>)\n  //         : (\n  //             <Player\n  //                 ref = {playerRef}\n  //                 aspectRatio=\"16:9\"\n  //                 playsInline\n  //                 onEnded={() => setVideoEnded(true)}\n  //                 src={videoData?.videoUrl}\n  //                  >\n\n  //                 <AiFillPlayCircle  />\n\n  //                 {\n  //                     videoEnded && (\n  //                         <div>\n  //                             {\n  //                                 !completedLectures.includes(subSectionId) && (\n  //                                     <IconBtn\n  //                                         disabled={loading}\n  //                                         onclick={() => handleLectureCompletion()}\n  //                                         text={!loading ? \"Mark As Completed\" : \"Loading...\"}\n  //                                     />\n  //                                 )\n  //                             }\n\n  //                             <IconBtn\n  //                                 disabled={loading}\n  //                                 onclick={() => {\n  //                                     if(playerRef?.current) {\n  //                                         playerRef.current?.seek(0);\n  //                                         setVideoEnded(false);\n  //                                     }\n  //                                 }}\n  //                                 text=\"Rewatch\"\n  //                                 customClasses=\"text-xl\"\n  //                             />\n\n  //                             <div>\n  //                                 {!isFirstVideo() && (\n  //                                     <button\n  //                                     disabled={loading}\n  //                                     onClick={goToPrevVideo}\n  //                                     className='blackButton'\n  //                                     >\n  //                                         Prev\n  //                                     </button>\n  //                                 )}\n  //                                 {!isLastVideo() && (\n  //                                     <button\n  //                                     disabled={loading}\n  //                                     onClick={goToNextVideo}\n  //                                     className='blackButton'>\n  //                                         Next\n  //                                     </button>\n  //                                 )}\n  //                             </div>\n  //                         </div>\n  //                     )\n  //                 }\n  //             </Player>\n  //         )\n  //       }\n  //       <h1>\n  //         {videoData?.title}\n  //       </h1>\n  //       <p>\n  //         {videoData?.description}\n  //       </p>\n  //     </div>\n  //   )\n};\n\nexport default VideoDetails;\n"],"mappings":"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C,CAAC,CAC3BlD,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAE,CACF8C,IAAI,CAAC,SAAS,CACdC,aAAa,CAAC,qCAAqC,CACpD,CAAC,cACFpE,KAAA,QAAKoD,SAAS,CAAC,yDAAyD,CAAAC,QAAA,EACrE,CAACnB,YAAY,CAAC,CAAC,eACdpC,IAAA,WACEmE,QAAQ,CAAE3C,OAAQ,CAClBkD,OAAO,CAAE1B,aAAc,CACvBM,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxB,MAED,CAAQ,CACT,CACA,CAACf,WAAW,CAAC,CAAC,eACbxC,IAAA,WACEmE,QAAQ,CAAE3C,OAAQ,CAClBkD,OAAO,CAAEhC,aAAc,CACvBY,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxB,MAED,CAAQ,CACT,EACE,CAAC,EACH,CACN,EACK,CACT,cAEDvD,IAAA,OAAIsD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAErC,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEyD,KAAK,CAAK,CAAC,cACnE3E,IAAA,MAAGsD,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAErC,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAE0D,WAAW,CAAI,CAAC,EAClD,CAAC,CAGR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAAC,CAED,cAAe,CAAAzE,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}