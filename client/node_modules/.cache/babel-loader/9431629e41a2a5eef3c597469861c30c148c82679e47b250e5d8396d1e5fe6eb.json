{"ast":null,"code":"import _objectSpread from\"/Users/akshayshrivastava/Desktop/CodeBud/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{useForm}from'react-hook-form';import{useSelector}from'react-redux';import{RxCross2}from\"react-icons/rx\";import IconBtn from'../../common/IconBtn';import{createRating}from'../../../services/operations/courseDetailsAPI';import ReactStars from'react-stars';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseReviewModal=_ref=>{let{setReviewModal}=_ref;const{user}=useSelector(state=>state.profile);const{token}=useSelector(state=>state.auth);const{courseEntireData}=useSelector(state=>state.viewCourse);const{register,handleSubmit,setValue,formState:{errors}}=useForm();useEffect(()=>{setValue(\"courseExperience\",\"\");setValue(\"courseRating\",0);},[]);const ratingChanged=newRating=>{setValue(\"courseRating\",newRating);};const onSubmit=async data=>{await createRating({courseId:courseEntireData._id,rating:data.courseRating,review:data.courseExperience,userId:user._id},token,user);setReviewModal(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-[1000] !mt-0 grid h-screen w-screen place-items-center overflow-auto bg-white bg-opacity-10 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"my-10 w-11/12 max-w-[700px] rounded-lg border border-richblack-400 bg-richblack-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between rounded-t-lg bg-richblack-700 p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold text-richblack-5\",children:\"Add Review\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReviewModal(false),children:/*#__PURE__*/_jsx(RxCross2,{className:\"text-2xl text-richblack-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.image,alt:(user===null||user===void 0?void 0:user.firstName)+\"profile\",className:\"aspect-square w-[50px] rounded-full object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-richblack-5\",children:[user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-richblack-5\",children:\"Posting Publicly\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"mt-6 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(ReactStars,{count:5,onChange:ratingChanged,size:24,activeColor:\"#ffd700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-11/12 flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm text-richblack-5\",htmlFor:\"courseExperience\",children:[\"Add Your Experience \",/*#__PURE__*/_jsx(\"sup\",{className:\"text-pink-200\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({id:\"courseExperience\",placeholder:\"Add Your Experience\"},register(\"courseExperience\",{required:true})),{},{className:\"form-style resize-x-none min-h-[130px] w-full\"})),errors.courseExperience&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs tracking-wide text-pink-200\",children:\"Please Add Your Experience\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex w-11/12 justify-end gap-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReviewModal(false),className:\"flex cursor-pointer items-center gap-x-2 rounded-md bg-richblack-300 py-[8px] px-[20px] font-semibold text-richblack-900\",children:\"Cancel\"}),/*#__PURE__*/_jsx(IconBtn,{text:\"Save\"})]})]})]})]})});//   return (\n//     <div className=' text-white'>\n//         <div>\n//             {/* Modal header */}\n//             <div>\n//                 <p>Add Review</p>\n//                 <button \n//                 onClick={()=>{setReviewModal(false)}}\n//                 >\n//                     Close\n//                 </button>\n//             </div>\n//             {/* Modal Body */}\n//             <div>\n//                 <div>\n//                     <img \n//                         src={user?.image}\n//                         alt='user Image'\n//                         className='aspect-square  w-[50px] rounded-full object-cover'\n//                     />\n//                     <div>\n//                         <p>{user?.firstName} {user?.lastName}</p>\n//                         <p>Posting Publicly</p>\n//                     </div>\n//                 </div>\n//                 <form\n//                 onSubmit={handleSubmit(onSubmit)}\n//                 className='mt-6 flex flex-col items-center'>\n//                     <ReactStars \n//                         count={5}\n//                         onChange={ratingChanged}\n//                         size={24}\n//                         activeColor=\"#ffd700\"\n//                     />\n//                     <div>\n//                         <label htmlFor='courseExperience'>\n//                             Add Your Experience*\n//                         </label>\n//                         <textarea \n//                             id='courseExperience'\n//                             placeholder='Add Your Experience here'\n//                             {...register(\"courseExperience\", {required:true})}\n//                             className='form-style min-h-[130px] w-full'\n//                         />\n//                         {\n//                             errors.courseExperience && (\n//                                 <span>\n//                                     Please add your experience\n//                                 </span>\n//                             )\n//                         }\n//                     </div>\n//                     {/* Cancel and Save button */}\n//                     <div>\n//                         <button\n//                         onClick={() => setReviewModal(false)}\n//                         >\n//                             Cancel\n//                         </button>\n//                         <IconBtn \n//                             text=\"save\"\n//                         />\n//                     </div>\n//                 </form>\n//             </div>\n//         </div>\n//     </div>\n//   )\n};export default CourseReviewModal;","map":{"version":3,"names":["React","useEffect","useForm","useSelector","RxCross2","IconBtn","createRating","ReactStars","jsx","_jsx","jsxs","_jsxs","CourseReviewModal","_ref","setReviewModal","user","state","profile","token","auth","courseEntireData","viewCourse","register","handleSubmit","setValue","formState","errors","ratingChanged","newRating","onSubmit","data","courseId","_id","rating","courseRating","review","courseExperience","userId","className","children","onClick","src","image","alt","firstName","lastName","count","onChange","size","activeColor","htmlFor","_objectSpread","id","placeholder","required","text"],"sources":["/Users/akshayshrivastava/Desktop/CodeBud/client/src/components/core/ViewCourse/CourseReviewModal.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useForm } from 'react-hook-form';\nimport { useSelector } from 'react-redux'\nimport { RxCross2 } from \"react-icons/rx\";\nimport IconBtn from '../../common/IconBtn';\nimport { createRating } from '../../../services/operations/courseDetailsAPI';\nimport ReactStars from 'react-stars';\nconst CourseReviewModal = ({setReviewModal}) => {\n    const {user} = useSelector((state)=>state.profile);\n    const {token} = useSelector((state) => state.auth);\n    const {courseEntireData} = useSelector((state)=> state.viewCourse);\n\n    const {\n        register,\n        handleSubmit,\n        setValue,\n        formState: {errors},\n    } = useForm();\n\n    useEffect(()=> {\n        setValue(\"courseExperience\", \"\");\n        setValue(\"courseRating\", 0);\n    },[])\n\n    const ratingChanged = (newRating) => {\n        setValue(\"courseRating\", newRating);\n    }\n\n    const onSubmit = async(data) => {\n        await createRating(\n            {\n                courseId:courseEntireData._id,\n                rating:data.courseRating,\n                review:data.courseExperience,\n                userId:user._id\n            },\n            token,\n            user\n        );\n        setReviewModal(false);\n    }\n\n\n      return (\n        <div className=\"fixed inset-0 z-[1000] !mt-0 grid h-screen w-screen place-items-center overflow-auto bg-white bg-opacity-10 backdrop-blur-sm\">\n          <div className=\"my-10 w-11/12 max-w-[700px] rounded-lg border border-richblack-400 bg-richblack-800\">\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between rounded-t-lg bg-richblack-700 p-5\">\n              <p className=\"text-xl font-semibold text-richblack-5\">\n                Add Review\n              </p>\n              <button onClick={() => setReviewModal(false)}>\n                <RxCross2 className=\"text-2xl text-richblack-5\" />\n              </button>\n            </div>\n            {/* Modal Body */}\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-center gap-x-4\">\n                <img\n                  src={user?.image}\n                  alt={user?.firstName + \"profile\"}\n                  className=\"aspect-square w-[50px] rounded-full object-cover\"\n                />\n                <div className=\"\">\n                  <p className=\"font-semibold text-richblack-5\">\n                    {user?.firstName} {user?.lastName}\n                  </p>\n                  <p className=\"text-sm text-richblack-5\">Posting Publicly</p>\n                </div>\n              </div>\n              <form\n                onSubmit={handleSubmit(onSubmit)}\n                className=\"mt-6 flex flex-col items-center\"\n              >\n                <ReactStars\n                  count={5}\n                  onChange={ratingChanged}\n                  size={24}\n                  activeColor=\"#ffd700\"\n                />\n                <div className=\"flex w-11/12 flex-col space-y-2\">\n                  <label\n                    className=\"text-sm text-richblack-5\"\n                    htmlFor=\"courseExperience\"\n                  >\n                    Add Your Experience <sup className=\"text-pink-200\">*</sup>\n                  </label>\n                  <textarea\n                    id=\"courseExperience\"\n                    placeholder=\"Add Your Experience\"\n                    {...register(\"courseExperience\", { required: true })}\n                    className=\"form-style resize-x-none min-h-[130px] w-full\"\n                  />\n                  {errors.courseExperience && (\n                    <span className=\"ml-2 text-xs tracking-wide text-pink-200\">\n                      Please Add Your Experience\n                    </span>\n                  )}\n                </div>\n                <div className=\"mt-6 flex w-11/12 justify-end gap-x-2\">\n                  <button\n                    onClick={() => setReviewModal(false)}\n                    className={`flex cursor-pointer items-center gap-x-2 rounded-md bg-richblack-300 py-[8px] px-[20px] font-semibold text-richblack-900`}\n                  >\n                    Cancel\n                  </button>\n                  <IconBtn text=\"Save\" />\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      );\n//   return (\n//     <div className=' text-white'>\n//         <div>\n//             {/* Modal header */}\n//             <div>\n//                 <p>Add Review</p>\n//                 <button \n//                 onClick={()=>{setReviewModal(false)}}\n//                 >\n//                     Close\n//                 </button>\n//             </div>\n\n//             {/* Modal Body */}\n//             <div>\n\n//                 <div>\n//                     <img \n//                         src={user?.image}\n//                         alt='user Image'\n//                         className='aspect-square  w-[50px] rounded-full object-cover'\n//                     />\n//                     <div>\n//                         <p>{user?.firstName} {user?.lastName}</p>\n//                         <p>Posting Publicly</p>\n//                     </div>\n//                 </div>\n\n\n//                 <form\n//                 onSubmit={handleSubmit(onSubmit)}\n//                 className='mt-6 flex flex-col items-center'>\n\n//                     <ReactStars \n//                         count={5}\n//                         onChange={ratingChanged}\n//                         size={24}\n//                         activeColor=\"#ffd700\"\n//                     />\n\n//                     <div>\n//                         <label htmlFor='courseExperience'>\n//                             Add Your Experience*\n//                         </label>\n//                         <textarea \n//                             id='courseExperience'\n//                             placeholder='Add Your Experience here'\n//                             {...register(\"courseExperience\", {required:true})}\n//                             className='form-style min-h-[130px] w-full'\n//                         />\n//                         {\n//                             errors.courseExperience && (\n//                                 <span>\n//                                     Please add your experience\n//                                 </span>\n//                             )\n//                         }\n//                     </div>\n//                     {/* Cancel and Save button */}\n//                     <div>\n//                         <button\n//                         onClick={() => setReviewModal(false)}\n//                         >\n//                             Cancel\n//                         </button>\n//                         <IconBtn \n//                             text=\"save\"\n//                         />\n//                     </div>\n\n\n//                 </form>\n\n//             </div>\n//         </div>\n//     </div>\n//   )\n}\n\nexport default CourseReviewModal\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}