{"ast":null,"code":"/* eslint-disable */import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Outlet,useParams}from\"react-router-dom\";import{getFullDetailsOfCourse}from\"../services/operations/courseDetailsAPI\";import{setCompletedLectures,setCourseSectionData,setEntireCourseData,setTotalNoOfLectures}from\"../slices/viewCourseSlice\";import VideoDetailsSidebar from\"../components/core/ViewCourse/VideoDetailsSidebar\";import CourseReviewModal from\"../components/core/ViewCourse/CourseReviewModal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ViewCourse=()=>{const[reviewModal,setReviewModal]=useState(false);const{courseId}=useParams();const{token}=useSelector(state=>state.auth);const dispatch=useDispatch();const setCourseSpecificDetails=async()=>{var _courseData$courseDet,_courseData$courseDet2;const courseData=await getFullDetailsOfCourse(courseId,token);dispatch(setCourseSectionData(courseData.courseDetails.courseContent));dispatch(setEntireCourseData(courseData.courseDetails));dispatch(setCompletedLectures(courseData.completedVideos));let lectures=0;courseData===null||courseData===void 0?void 0:(_courseData$courseDet=courseData.courseDetails)===null||_courseData$courseDet===void 0?void 0:(_courseData$courseDet2=_courseData$courseDet.courseContent)===null||_courseData$courseDet2===void 0?void 0:_courseData$courseDet2.forEach(sec=>{lectures+=sec.subSection.length;});dispatch(setTotalNoOfLectures(lectures));};useEffect(()=>{if(courseId&&token){setCourseSpecificDetails();}},[courseId,token,dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex min-h-[calc(100vh-3.5rem)]\",children:[/*#__PURE__*/_jsx(VideoDetailsSidebar,{setReviewModal:setReviewModal}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-3.5rem)] flex-1 overflow-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-6\",children:/*#__PURE__*/_jsx(Outlet,{})})})]}),reviewModal&&/*#__PURE__*/_jsx(CourseReviewModal,{setReviewModal:setReviewModal})]});};export default ViewCourse;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","Outlet","useParams","getFullDetailsOfCourse","setCompletedLectures","setCourseSectionData","setEntireCourseData","setTotalNoOfLectures","VideoDetailsSidebar","CourseReviewModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ViewCourse","reviewModal","setReviewModal","courseId","token","state","auth","dispatch","setCourseSpecificDetails","_courseData$courseDet","_courseData$courseDet2","courseData","courseDetails","courseContent","completedVideos","lectures","forEach","sec","subSection","length","children","className"],"sources":["/Users/akshayshrivastava/Desktop/CodeBud/client/src/pages/ViewCourse.jsx"],"sourcesContent":["/* eslint-disable */\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Outlet, useParams } from \"react-router-dom\";\nimport { getFullDetailsOfCourse } from \"../services/operations/courseDetailsAPI\";\nimport {\n  setCompletedLectures,\n  setCourseSectionData,\n  setEntireCourseData,\n  setTotalNoOfLectures,\n} from \"../slices/viewCourseSlice\";\nimport VideoDetailsSidebar from \"../components/core/ViewCourse/VideoDetailsSidebar\";\nimport CourseReviewModal from \"../components/core/ViewCourse/CourseReviewModal\";\n\nconst ViewCourse = () => {\n  const [reviewModal, setReviewModal] = useState(false);\n  const { courseId } = useParams();\n  const { token } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  const setCourseSpecificDetails = async () => {\n    const courseData = await getFullDetailsOfCourse(courseId, token);\n\n    dispatch(setCourseSectionData(courseData.courseDetails.courseContent));\n    dispatch(setEntireCourseData(courseData.courseDetails));\n    dispatch(setCompletedLectures(courseData.completedVideos));\n\n    let lectures = 0;\n    courseData?.courseDetails?.courseContent?.forEach((sec) => {\n      lectures += sec.subSection.length;\n    });\n\n    dispatch(setTotalNoOfLectures(lectures));\n  };\n\n  useEffect(() => {\n    if (courseId && token) {\n      setCourseSpecificDetails();\n    }\n  }, [courseId, token, dispatch]);\n\n  return (\n    <>\n      <div className=\"relative flex min-h-[calc(100vh-3.5rem)]\">\n        <VideoDetailsSidebar setReviewModal={setReviewModal} />\n        <div className=\"h-[calc(100vh-3.5rem)] flex-1 overflow-auto\">\n          <div className=\"mx-6\">\n            <Outlet />\n          </div>\n        </div>\n      </div>\n      {reviewModal && <CourseReviewModal setReviewModal={setReviewModal} />}\n    </>\n  );\n};\n\nexport default ViewCourse;\n"],"mappings":"AAAA,oBACA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,CAAEC,SAAS,KAAQ,kBAAkB,CACpD,OAASC,sBAAsB,KAAQ,yCAAyC,CAChF,OACEC,oBAAoB,CACpBC,oBAAoB,CACpBC,mBAAmB,CACnBC,oBAAoB,KACf,2BAA2B,CAClC,MAAO,CAAAC,mBAAmB,KAAM,mDAAmD,CACnF,MAAO,CAAAC,iBAAiB,KAAM,iDAAiD,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhF,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAEqB,QAAS,CAAC,CAAGjB,SAAS,CAAC,CAAC,CAChC,KAAM,CAAEkB,KAAM,CAAC,CAAGpB,WAAW,CAAEqB,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CACpD,KAAM,CAAAC,QAAQ,CAAGxB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAyB,wBAAwB,CAAG,KAAAA,CAAA,GAAY,KAAAC,qBAAA,CAAAC,sBAAA,CAC3C,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAAxB,sBAAsB,CAACgB,QAAQ,CAAEC,KAAK,CAAC,CAEhEG,QAAQ,CAAClB,oBAAoB,CAACsB,UAAU,CAACC,aAAa,CAACC,aAAa,CAAC,CAAC,CACtEN,QAAQ,CAACjB,mBAAmB,CAACqB,UAAU,CAACC,aAAa,CAAC,CAAC,CACvDL,QAAQ,CAACnB,oBAAoB,CAACuB,UAAU,CAACG,eAAe,CAAC,CAAC,CAE1D,GAAI,CAAAC,QAAQ,CAAG,CAAC,CAChBJ,UAAU,SAAVA,UAAU,kBAAAF,qBAAA,CAAVE,UAAU,CAAEC,aAAa,UAAAH,qBAAA,kBAAAC,sBAAA,CAAzBD,qBAAA,CAA2BI,aAAa,UAAAH,sBAAA,iBAAxCA,sBAAA,CAA0CM,OAAO,CAAEC,GAAG,EAAK,CACzDF,QAAQ,EAAIE,GAAG,CAACC,UAAU,CAACC,MAAM,CACnC,CAAC,CAAC,CAEFZ,QAAQ,CAAChB,oBAAoB,CAACwB,QAAQ,CAAC,CAAC,CAC1C,CAAC,CAEDlC,SAAS,CAAC,IAAM,CACd,GAAIsB,QAAQ,EAAIC,KAAK,CAAE,CACrBI,wBAAwB,CAAC,CAAC,CAC5B,CACF,CAAC,CAAE,CAACL,QAAQ,CAAEC,KAAK,CAAEG,QAAQ,CAAC,CAAC,CAE/B,mBACEV,KAAA,CAAAE,SAAA,EAAAqB,QAAA,eACEvB,KAAA,QAAKwB,SAAS,CAAC,0CAA0C,CAAAD,QAAA,eACvDzB,IAAA,CAACH,mBAAmB,EAACU,cAAc,CAAEA,cAAe,CAAE,CAAC,cACvDP,IAAA,QAAK0B,SAAS,CAAC,6CAA6C,CAAAD,QAAA,cAC1DzB,IAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBzB,IAAA,CAACV,MAAM,GAAE,CAAC,CACP,CAAC,CACH,CAAC,EACH,CAAC,CACLgB,WAAW,eAAIN,IAAA,CAACF,iBAAiB,EAACS,cAAc,CAAEA,cAAe,CAAE,CAAC,EACrE,CAAC,CAEP,CAAC,CAED,cAAe,CAAAF,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}