{"ast":null,"code":"import{useEffect,useState}from\"react\";import{AiOutlineMenu,AiOutlineShoppingCart}from\"react-icons/ai\";import{BsChevronDown}from\"react-icons/bs\";import{useSelector}from\"react-redux\";import{Link,matchPath,useLocation}from\"react-router-dom\";import logo from\"../../assets/Logo/codebudhd.png\";import{NavbarLinks}from\"../../data/navbar-links\";import{apiConnector}from\"../../services/apiconnector\";import{categories}from\"../../services/apis\";import{ACCOUNT_TYPE}from\"../../utils/constants\";import ProfileDropdown from\"../core/Auth/ProfileDropDown\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const{token}=useSelector(state=>state.auth);const{user}=useSelector(state=>state.profile);const{totalItems}=useSelector(state=>state.cart);const location=useLocation();const[subLinks,setSubLinks]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{(async()=>{setLoading(true);try{const res=await apiConnector(\"GET\",categories.CATEGORIES_API);setSubLinks(res.data.data);}catch(error){console.log(\"Could not fetch Categories.\",error);}setLoading(false);})();},[]);// console.log(\"sub links\", subLinks)\nconst matchRoute=route=>{return matchPath({path:route},location.pathname);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-14 items-center justify-center border-b-[1px] border-b-richblack-700 \".concat(location.pathname!==\"/\"?\"bg-richblack-800\":\"\",\" transition-all duration-200\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-11/12 max-w-maxContent items-center justify-between\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",width:160,height:32,loading:\"lazy\",className:\" filter scale-110 \"})}),/*#__PURE__*/_jsx(\"nav\",{className:\"hidden md:block\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"flex gap-x-6 text-richblack-25\",children:NavbarLinks.map((link,index)=>{var _subLinks$filter;return/*#__PURE__*/_jsx(\"li\",{children:link.title===\"Catalog\"?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"group relative flex cursor-pointer items-center gap-1 \".concat(matchRoute(\"/catalog/:catalogName\")?\"text-yellow-25\":\"text-richblack-25\"),children:[/*#__PURE__*/_jsx(\"p\",{children:link.title}),/*#__PURE__*/_jsx(BsChevronDown,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"invisible absolute left-[50%] top-[50%] z-[1000] flex w-[200px] translate-x-[-50%] translate-y-[3em] flex-col rounded-lg bg-richblack-5 p-4 text-richblack-900 opacity-0 transition-all duration-150 group-hover:visible group-hover:translate-y-[1.65em] group-hover:opacity-100 lg:w-[300px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-[50%] top-0 -z-10 h-6 w-6 translate-x-[80%] translate-y-[-40%] rotate-45 select-none rounded bg-richblack-5\"}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Loading...\"}):subLinks!==null&&subLinks!==void 0&&subLinks.length?/*#__PURE__*/_jsx(_Fragment,{children:subLinks===null||subLinks===void 0?void 0:(_subLinks$filter=subLinks.filter(subLink=>{var _subLink$courses;return(subLink===null||subLink===void 0?void 0:(_subLink$courses=subLink.courses)===null||_subLink$courses===void 0?void 0:_subLink$courses.length)>0;}))===null||_subLinks$filter===void 0?void 0:_subLinks$filter.map((subLink,i)=>/*#__PURE__*/_jsx(Link,{to:\"/catalog/\".concat(subLink.name.split(\" \").join(\"-\").toLowerCase()),className:\"rounded-lg bg-transparent py-4 pl-4 hover:bg-richblack-50\",children:/*#__PURE__*/_jsx(\"p\",{children:subLink.name})},i))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"No Courses Found\"})]})]})}):/*#__PURE__*/_jsx(Link,{to:link===null||link===void 0?void 0:link.path,children:/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(matchRoute(link===null||link===void 0?void 0:link.path)?\"text-yellow-25\":\"text-richblack-25\"),children:link.title})})},index);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden items-center gap-x-4 md:flex\",children:[user&&(user===null||user===void 0?void 0:user.accountType)===ACCOUNT_TYPE.STUDENT&&/*#__PURE__*/_jsxs(Link,{to:\"/dashboard/cart\",className:\"relative\",children:[/*#__PURE__*/_jsx(AiOutlineShoppingCart,{className:\"text-2xl text-richblack-100\"}),totalItems>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -bottom-2 -right-2 grid h-5 w-5 place-items-center overflow-hidden rounded-full bg-richblack-600 text-center text-xs font-bold text-yellow-100\",children:totalItems})]}),token===null&&/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\",children:\"Log in\"})}),token===null&&/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"button\",{className:\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\",children:\"Sign up\"})}),token!==null&&/*#__PURE__*/_jsx(ProfileDropdown,{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mr-4 md:hidden\",children:/*#__PURE__*/_jsx(AiOutlineMenu,{fontSize:24,fill:\"#AFB2BF\"})})]})});}export default Navbar;","map":{"version":3,"names":["useEffect","useState","AiOutlineMenu","AiOutlineShoppingCart","BsChevronDown","useSelector","Link","matchPath","useLocation","logo","NavbarLinks","apiConnector","categories","ACCOUNT_TYPE","ProfileDropdown","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","token","state","auth","user","profile","totalItems","cart","location","subLinks","setSubLinks","loading","setLoading","res","CATEGORIES_API","data","error","console","log","matchRoute","route","path","pathname","className","concat","children","to","src","alt","width","height","map","link","index","_subLinks$filter","title","length","filter","subLink","_subLink$courses","courses","i","name","split","join","toLowerCase","accountType","STUDENT","fontSize","fill"],"sources":["/Users/akshayshrivastava/Desktop/CodeBud/client/src/components/common/NavBar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { AiOutlineMenu, AiOutlineShoppingCart } from \"react-icons/ai\";\nimport { BsChevronDown } from \"react-icons/bs\";\nimport { useSelector } from \"react-redux\";\nimport { Link, matchPath, useLocation } from \"react-router-dom\";\n\nimport logo from \"../../assets/Logo/codebudhd.png\"\nimport { NavbarLinks } from \"../../data/navbar-links\";\nimport { apiConnector } from \"../../services/apiconnector\";\nimport { categories } from \"../../services/apis\";\nimport { ACCOUNT_TYPE } from \"../../utils/constants\";\nimport ProfileDropdown from \"../core/Auth/ProfileDropDown\";\n\nfunction Navbar() {\n  const { token } = useSelector((state) => state.auth);\n  const { user } = useSelector((state) => state.profile);\n  const { totalItems } = useSelector((state) => state.cart);\n  const location = useLocation();\n\n  const [subLinks, setSubLinks] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const res = await apiConnector(\"GET\", categories.CATEGORIES_API);\n        setSubLinks(res.data.data);\n      } catch (error) {\n        console.log(\"Could not fetch Categories.\", error);\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  // console.log(\"sub links\", subLinks)\n\n  const matchRoute = (route) => {\n    return matchPath({ path: route }, location.pathname);\n  };\n\n  return (\n    <div\n      className={`flex h-14 items-center justify-center border-b-[1px] border-b-richblack-700 ${\n        location.pathname !== \"/\" ? \"bg-richblack-800\" : \"\"\n      } transition-all duration-200`}\n    >\n      <div className=\"flex w-11/12 max-w-maxContent items-center justify-between\">\n        {/* Logo */}\n        <Link to=\"/\">\n          <img src={logo} alt=\"Logo\" width={160} height={32} loading=\"lazy\" className=\" filter scale-110 \" />\n        </Link>\n        {/* Navigation links */}\n        <nav className=\"hidden md:block\">\n          <ul className=\"flex gap-x-6 text-richblack-25\">\n            {NavbarLinks.map((link, index) => (\n              <li key={index}>\n                {link.title === \"Catalog\" ? (\n                  <>\n                    <div\n                      className={`group relative flex cursor-pointer items-center gap-1 ${\n                        matchRoute(\"/catalog/:catalogName\")\n                          ? \"text-yellow-25\"\n                          : \"text-richblack-25\"\n                      }`}\n                    >\n                      <p>{link.title}</p>\n                      <BsChevronDown />\n                      <div className=\"invisible absolute left-[50%] top-[50%] z-[1000] flex w-[200px] translate-x-[-50%] translate-y-[3em] flex-col rounded-lg bg-richblack-5 p-4 text-richblack-900 opacity-0 transition-all duration-150 group-hover:visible group-hover:translate-y-[1.65em] group-hover:opacity-100 lg:w-[300px]\">\n                        <div className=\"absolute left-[50%] top-0 -z-10 h-6 w-6 translate-x-[80%] translate-y-[-40%] rotate-45 select-none rounded bg-richblack-5\"></div>\n                        {loading ? (\n                          <p className=\"text-center\">Loading...</p>\n                        ) : subLinks?.length ? (\n                          <>\n                            {subLinks\n                              ?.filter(\n                                (subLink) => subLink?.courses?.length > 0\n                              )\n                              ?.map((subLink, i) => (\n                                <Link\n                                  to={`/catalog/${subLink.name\n                                    .split(\" \")\n                                    .join(\"-\")\n                                    .toLowerCase()}`}\n                                  className=\"rounded-lg bg-transparent py-4 pl-4 hover:bg-richblack-50\"\n                                  key={i}\n                                >\n                                  <p>{subLink.name}</p>\n                                </Link>\n                              ))}\n                          </>\n                        ) : (\n                          <p className=\"text-center\">No Courses Found</p>\n                        )}\n                      </div>\n                    </div>\n                  </>\n                ) : (\n                  <Link to={link?.path}>\n                    <p\n                      className={`${\n                        matchRoute(link?.path)\n                          ? \"text-yellow-25\"\n                          : \"text-richblack-25\"\n                      }`}\n                    >\n                      {link.title}\n                    </p>\n                  </Link>\n                )}\n              </li>\n            ))}\n          </ul>\n        </nav>\n        {/* Login / Signup / Dashboard */}\n        <div className=\"hidden items-center gap-x-4 md:flex\">\n          {user && user?.accountType === ACCOUNT_TYPE.STUDENT && (\n            <Link to=\"/dashboard/cart\" className=\"relative\">\n              <AiOutlineShoppingCart className=\"text-2xl text-richblack-100\" />\n              {totalItems > 0 && (\n                <span className=\"absolute -bottom-2 -right-2 grid h-5 w-5 place-items-center overflow-hidden rounded-full bg-richblack-600 text-center text-xs font-bold text-yellow-100\">\n                  {totalItems}\n                </span>\n              )}\n            </Link>\n          )}\n          {token === null && (\n            <Link to=\"/login\">\n              <button className=\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\">\n                Log in\n              </button>\n            </Link>\n          )}\n          {token === null && (\n            <Link to=\"/signup\">\n              <button className=\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\">\n                Sign up\n              </button>\n            </Link>\n          )}\n          {token !== null && <ProfileDropdown />}\n        </div>\n        <button className=\"mr-4 md:hidden\">\n          <AiOutlineMenu fontSize={24} fill=\"#AFB2BF\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}